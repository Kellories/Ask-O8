import{b as C,a as t,e as S,t as m}from"../chunks/disclose-version.0l5ZSCYr.js";import{i as T}from"../chunks/legacy.BxTldWZS.js";import{p as J,a as M,f as v,g as s,e as x,U as _,s as i,c as j,r as E,t as N,b as y}from"../chunks/utils.C5S0ZuWa.js";import{s as R}from"../chunks/render.XxxBT1qd.js";import{i as U}from"../chunks/if.Dz3LUtzn.js";import{p as z}from"../chunks/event-modifiers.CWmzcjye.js";import{B as A}from"../chunks/index.C_q_7WZB.js";import{C as F,a as G,b as H,c as K,d as Q,I}from"../chunks/input.BUkOpTRy.js";import{I as V}from"../chunks/Icon.7sDeMvYj.js";import{g as W}from"../chunks/entry.BIW_gc5k.js";var X=m("<!> <!>",1),Y=m('<p class="text-red-500 mb-3"> </p>'),Z=m("<!> <span>Login with Email</span>",1),ee=m('<form><!> <!> <!> <!></form> <p class="text-center mt-4">Donâ€™t have an account? <a href="/auth/register" class="text-blue-500 hover:underline">Register</a></p>',1),te=m("<!> <!>",1);function ue(L,k){J(k,!1);let $=y(""),g=y(""),h=y("");async function q(){const o=await fetch("/auth/login/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s($),password:s(g)})});if(o.ok){const{user:p}=await o.json();console.log("Logged in user:",p),W("/app")}else{const{error:p}=await o.json();x(h,p)}}T(),F(L,{class:"mx-auto max-w-md p-6 shadow-md",children:(o,p)=>{var b=te(),P=v(b);G(P,{children:(w,D)=>{var l=X(),a=v(l);H(a,{class:"text-3xl font-thin",children:(r,u)=>{_();var n=C("Login");t(r,n)},$$slots:{default:!0}});var d=i(a,2);K(d,{children:(r,u)=>{_();var n=C("Enter your Email and Password");t(r,n)},$$slots:{default:!0}}),t(w,l)},$$slots:{default:!0}});var B=i(P,2);Q(B,{children:(w,D)=>{var l=ee(),a=v(l),d=j(a);I(d,{type:"email",get value(){return s($)},set value(e){x($,e)},placeholder:"Email",required:!0,class:"my-3 w-full",$$legacy:!0});var r=i(d,2);I(r,{type:"password",get value(){return s(g)},set value(e){x(g,e)},placeholder:"Password",required:!0,class:"my-3 w-full",$$legacy:!0});var u=i(r,2);U(u,()=>s(h),e=>{var c=Y(),f=j(c,!0);E(c),N(()=>R(f,s(h))),t(e,c)});var n=i(u,2);A(n,{type:"submit",class:"w-full flex items-center justify-center gap-2 mt-3",children:(e,c)=>{var f=Z(),O=v(f);V(O,{icon:"mdi:email",class:"h-6 w-6"}),_(2),t(e,f)},$$slots:{default:!0}}),E(a),_(2),S("submit",a,z(q)),t(w,l)},$$slots:{default:!0}}),t(o,b)},$$slots:{default:!0}}),M()}export{ue as component};
