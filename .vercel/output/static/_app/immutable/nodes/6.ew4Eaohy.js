import{a as r,t as n,c as M,e as V}from"../chunks/disclose-version.0l5ZSCYr.js";import{i as W}from"../chunks/legacy.BxTldWZS.js";import{p as X,l as Y,d as Z,a as ee,f as A,g as e,t as d,e as m,c as s,r as t,s as g,b as v}from"../chunks/utils.C5S0ZuWa.js";import{s as p}from"../chunks/render.XxxBT1qd.js";import{i as f}from"../chunks/if.Dz3LUtzn.js";import{e as te,i as ae}from"../chunks/each.DMgL2ASJ.js";import{s as re,a as se}from"../chunks/store.DHcqW628.js";import{p as oe}from"../chunks/stores.Dznn8Nsn.js";import{o as ne}from"../chunks/index-client.BsLgzKKx.js";import{g as le}from"../chunks/entry.BIW_gc5k.js";var ie=n('<p class="text-gray-700">Loading knowledge base details...</p>'),ce=n('<p class="text-red-500"> </p>'),pe=n('<li class="p-4 border border-gray-200 rounded-md"><p class="text-gray-800"> </p> <p class="text-sm text-gray-500 mt-1"> </p></li>'),de=n('<ul class="mt-2 space-y-4"></ul>'),me=n('<p class="text-gray-500 mt-2">No documents available for this knowledge base.</p>'),ge=n('<div class="w-full max-w-lg bg-white p-6 rounded-md shadow-md"><div class="flex flex-row justify-between"><h1 class="text-2xl font-bold text-gray-800 "> </h1> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200">Create New Content</button></div> <p class="text-sm text-gray-600"> </p> <h2 class="text-xl font-semibold text-gray-700 mt-6">Documents</h2> <!></div>'),ve=n('<main class="p-6 bg-gray-50 min-h-screen flex flex-col items-center"><!></main>');function Be(E,F){X(F,!1);const I=re(),D=()=>se(oe,"$page",I);let u=v(""),o=v(null),N=v(!0),_=v("");const S=async()=>{try{const a=await fetch(`/api/fetchKnowledgeBaseById/${e(u)}`);if(!a.ok){const l=await a.json();throw new Error(l.message||"Failed to fetch data")}m(o,await a.json())}catch(a){m(_,a.message||"An unexpected error occurred")}finally{m(N,!1)}},q=()=>{le(`/app/knowledge/${e(u)}/create`)};ne(S),Y(()=>D(),()=>{m(u,D().params.slug)}),Z(),W();var x=ve(),z=s(x);f(z,()=>e(N),a=>{var l=ie();r(a,l)},a=>{var l=M(),G=A(l);f(G,()=>e(_),h=>{var i=ce(),b=s(i,!0);t(i),d(()=>p(b,e(_))),r(h,i)},h=>{var i=M(),b=A(i);f(b,()=>e(o),H=>{var w=ge(),y=s(w),k=s(y),J=s(k,!0);t(k);var O=g(k,2);t(y);var $=g(y,2),P=s($,!0);t($);var Q=g($,4);f(Q,()=>e(o).documents&&e(o).documents.length>0,B=>{var c=de();te(c,5,()=>e(o).documents,ae,(R,K)=>{var C=pe(),j=s(C),T=s(j,!0);t(j);var L=g(j,2),U=s(L);d(()=>p(U,`Created at: ${new Date(e(K).created_at).toLocaleString()??""}`)),t(L),t(C),d(()=>p(T,e(K).content)),r(R,C)}),t(c),r(B,c)},B=>{var c=me();r(B,c)}),t(w),d(()=>{p(J,e(o).display),p(P,e(o).description||"No description provided")}),V("click",O,q),r(H,w)},null,!0),r(h,i)},!0),r(a,l)}),t(x),r(E,x),ee()}export{Be as component};
