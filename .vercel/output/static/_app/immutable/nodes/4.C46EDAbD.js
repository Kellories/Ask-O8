import{a as o,t as P,c as Z,o as Ie,e as b,b as le}from"../chunks/disclose-version.0l5ZSCYr.js";import{i as L}from"../chunks/legacy.BxTldWZS.js";import{p as V,g as a,aP as O,l as T,d as $,t as N,a as W,c as C,f as J,s as R,r as D,b as E,a3 as j,e as F,ax as we,aQ as S,U as se}from"../chunks/utils.C5S0ZuWa.js";import{s as xe}from"../chunks/render.XxxBT1qd.js";import{i as oe}from"../chunks/if.Dz3LUtzn.js";import{e as ke,i as pe}from"../chunks/each.DMgL2ASJ.js";import{o as Ke}from"../chunks/index-client.BsLgzKKx.js";import{t as Q,s as M,a as Me,b as w}from"../chunks/bundle-mjs.D0VPtKIW.js";import{r as Ae,a as Re,s as G}from"../chunks/attributes.Dn6mGABP.js";import{s as Y,a as je}from"../chunks/class.BT_6QCHk.js";import{b as He}from"../chunks/input.Bt6C-Zmp.js";import{l as H,p as i}from"../chunks/props.CjR2llfe.js";import{w as ve,g as _e}from"../chunks/entry.BIW_gc5k.js";import{s as Ce,a as ue}from"../chunks/store.DHcqW628.js";var Ne=Ie('<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>'),qe=P('<div><label for="table-search" class="sr-only">Search</label> <div><div><!></div> <input type="text" id="table-search"></div> <!></div>'),Ee=P("<div><!> <table><!></table></div>");function Fe(z,e){const c=H(e,["children","$$slots","$$events","$$legacy"]),B=H(c,["divClass","striped","hoverable","noborder","shadow","color","customeColor","items","filter","placeholder","innerDivClass","searchClass","svgDivClass","svgClass","inputClass","classInput","classSvgDiv"]);V(e,!1);let y=i(e,"divClass",8,"relative overflow-x-auto"),m=i(e,"striped",8,!1),x=i(e,"hoverable",8,!1),r=i(e,"noborder",8,!1),_=i(e,"shadow",8,!1),n=i(e,"color",8,"default"),l=i(e,"customeColor",8,""),u=i(e,"items",24,()=>[]),g=i(e,"filter",8,null),I=i(e,"placeholder",8,"Search"),k=i(e,"innerDivClass",8,"p-4"),K=i(e,"searchClass",8,"relative mt-1"),f=i(e,"svgDivClass",8,"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"),t=i(e,"svgClass",8,"w-5 h-5 text-gray-500 dark:text-gray-400"),h=i(e,"inputClass",8,"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-80 p-2.5 ps-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),v=i(e,"classInput",8,""),s=i(e,"classSvgDiv",8,""),p=E(""),d=Q(h(),v()),ee=Q(f(),s());const q={default:"text-gray-500 dark:text-gray-400",blue:"text-blue-100 dark:text-blue-100",green:"text-green-100 dark:text-green-100",red:"text-red-100 dark:text-red-100",yellow:"text-yellow-100 dark:text-yellow-100",purple:"text-purple-100 dark:text-purple-100",indigo:"text-indigo-100 dark:text-indigo-100",pink:"text-pink-100 dark:text-pink-100",custom:l()},te=ve(a(p)),re=ve(g());O("searchTerm",te),O("filter",re),O("sorter",ve(null)),T(()=>j(m()),()=>{O("striped",m())}),T(()=>j(x()),()=>{O("hoverable",x())}),T(()=>j(r()),()=>{O("noborder",r())}),T(()=>j(n()),()=>{O("color",n())}),T(()=>j(u()),()=>{O("items",u())}),T(()=>a(p),()=>{te.set(a(p))}),T(()=>j(g()),()=>{g()&&re.set(g())}),$(),L();var X=Ee();const U=we(()=>Me(y(),_()&&"shadow-md sm:rounded-lg"));var ae=C(X);oe(ae,g,Pe=>{var me=Z(),Be=J(me);M(Be,e,"search",{},Te=>{var ne=qe(),de=R(C(ne),2),ie=C(de);Y(ie,ee);var Se=C(ie);M(Se,e,"svgSearch",{},ge=>{var ye=Ne();N(()=>je(ye,t())),o(ge,ye)}),D(ie);var ce=R(ie,2);Ae(ce),Y(ce,d),D(de);var ze=R(de,2);M(ze,e,"header",{},null),D(ne),N(()=>{Y(ne,k()),Y(de,K()),Re(ce,"placeholder",I())}),He(ce,()=>a(p),ge=>F(p,ge)),o(Te,ne)}),o(Pe,me)});var A=R(ae,2);let he;var De=C(A);M(De,e,"default",{},null),D(A),D(X),N(()=>{Y(X,a(U)),he=G(A,he,{...B,class:Q("w-full text-left text-sm",q[n()],c.class)})}),o(z,X),W()}var Je=P("<tbody><!><!></tbody>");function Oe(z,e){const c=H(e,["children","$$slots","$$events","$$legacy"]),B=H(c,["tableBodyClass"]);V(e,!1);const y=Ce(),m=()=>ue(g,"$filter",y),x=()=>ue(I,"$searchTerm",y),r=()=>ue(k,"$sorter",y),_=E(),n=E(),l=E();let u=i(e,"tableBodyClass",24,()=>{}),g=S("filter"),I=S("searchTerm"),k=S("sorter");T(()=>S,()=>{F(_,S("items")||[])}),T(()=>(m(),a(_),x()),()=>{F(n,m()?a(_).filter(v=>m()(v,x())):a(_))}),T(()=>(r(),a(n)),()=>{F(l,r()?a(n).toSorted((v,s)=>r().sortDirection*r().sort(v,s)):a(n))}),$(),L();var K=Je();let f;var t=C(K);M(t,e,"default",{},null);var h=R(t);ke(h,1,()=>a(l),pe,(v,s)=>{var p=Z(),d=J(p);M(d,e,"row",{get item(){return a(s)}},null),o(v,p)}),D(K),N(()=>f=G(K,f,{...B,class:u()})),o(z,K),W()}var Qe=P("<button><!></button>"),Ue=P("<td><!></td>");function be(z,e){const c=H(e,["children","$$slots","$$events","$$legacy"]),B=H(c,["tdClass"]);V(e,!1);let y=i(e,"tdClass",8,"px-6 py-4 whitespace-nowrap font-medium "),m=E("default");F(m,S("color"));let x=E();T(()=>(j(y()),a(m),j(c)),()=>{F(x,Q(y(),a(m)==="default"?"text-gray-900 dark:text-white":"text-blue-50 whitespace-nowrap dark:text-blue-100",c.class))}),$(),L();var r=Ue();let _;var n=C(r);oe(n,()=>c.onclick,l=>{var u=Qe(),g=C(u);M(g,e,"default",{},null),D(u),b("click",u,function(...I){var k;(k=c.onclick)==null||k.apply(this,I)}),o(l,u)},l=>{var u=Z(),g=J(u);M(g,e,"default",{},null),o(l,u)}),D(r),N(()=>_=G(r,_,{...B,class:a(x)})),o(z,r),W()}var Ge=P("<tr><!></tr>");function Le(z,e){const c=H(e,["children","$$slots","$$events","$$legacy"]),B=H(c,["color"]);V(e,!1);let y=i(e,"color",24,()=>S("color"));const m={default:"bg-white dark:bg-gray-800 dark:border-gray-700",blue:"bg-blue-500 border-blue-400",green:"bg-green-500 border-green-400",red:"bg-red-500 border-red-400",yellow:"bg-yellow-500 border-yellow-400",purple:"bg-purple-500 border-purple-400",custom:""},x={default:"hover:bg-gray-50 dark:hover:bg-gray-600",blue:"hover:bg-blue-400",green:"hover:bg-green-400",red:"hover:bg-red-400",yellow:"hover:bg-yellow-400",purple:"hover:bg-purple-400",custom:""},r={default:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700",blue:"odd:bg-blue-800 even:bg-blue-700 odd:dark:bg-blue-800 even:dark:bg-blue-700",green:"odd:bg-green-800 even:bg-green-700 odd:dark:bg-green-800 even:dark:bg-green-700",red:"odd:bg-red-800 even:bg-red-700 odd:dark:bg-red-800 even:dark:bg-red-700",yellow:"odd:bg-yellow-800 even:bg-yellow-700 odd:dark:bg-yellow-800 even:dark:bg-yellow-700",purple:"odd:bg-purple-800 even:bg-purple-700 odd:dark:bg-purple-800 even:dark:bg-purple-700",custom:""};let _=E();T(()=>(j(y()),j(c)),()=>{F(_,Q([!S("noborder")&&"border-b last:border-b-0",m[y()],S("hoverable")&&x[y()],S("striped")&&r[y()],c.class]))}),$(),L();var n=Ge();let l;var u=C(n);M(u,e,"default",{},null),D(n),N(()=>l=G(n,l,{...B,class:a(_)})),b("click",n,function(g){w.call(this,e,g)}),b("contextmenu",n,function(g){w.call(this,e,g)}),b("dblclick",n,function(g){w.call(this,e,g)}),o(z,n),W()}var Ve=P("<tr><!></tr>"),We=P("<thead><!></thead>");function Xe(z,e){const c=H(e,["children","$$slots","$$events","$$legacy"]),B=H(c,["theadClass","defaultRow"]);V(e,!1);const y=E();let m=i(e,"theadClass",8,"text-xs uppercase"),x=i(e,"defaultRow",8,!0),r=E();F(r,S("color"));let _=S("noborder"),n=S("striped");const u={default:_||n?"":"bg-gray-50 dark:bg-gray-700",blue:"bg-blue-600",green:"bg-green-600",red:"bg-red-600",yellow:"bg-yellow-600",purple:"bg-purple-600",custom:""};let g=a(r)==="default"?"text-gray-700 dark:text-gray-400":a(r)==="custom"?"":"text-white  dark:text-white",I=n?"":a(r)==="default"?"border-gray-700":a(r)==="custom"?"":`border-${a(r)}-400`;T(()=>(j(m()),a(r),j(c)),()=>{F(y,Q(m(),g,n&&I,u[a(r)],c.class))}),$(),L();var k=We();let K;var f=C(k);oe(f,x,t=>{var h=Ve(),v=C(h);M(v,e,"default",{},null),D(h),o(t,h)},t=>{var h=Z(),v=J(h);M(v,e,"default",{},null),o(t,h)}),D(k),N(()=>K=G(k,K,{...B,class:a(y)})),o(z,k),W()}var Ye=P("<th><button><!></button></th>"),Ze=P("<th><!></th>");function fe(z,e){const c=H(e,["children","$$slots","$$events","$$legacy"]),B=H(c,["padding","sort","defaultDirection","defaultSort","direction"]);V(e,!1);const y=Ce(),m=()=>ue(u,"$sorter",y);let x=i(e,"padding",8,"px-6 py-3"),r=i(e,"sort",8,null),_=i(e,"defaultDirection",8,"asc"),n=i(e,"defaultSort",8,!1),l=i(e,"direction",28,()=>n()?_():null),u=S("sorter"),g=Math.random().toString(36).substring(2);n()&&I();function I(){!r()||!u||u.update(f=>({id:g,sort:r(),sortDirection:(f==null?void 0:f.id)===g?-f.sortDirection:_()==="asc"?1:-1}))}T(()=>m(),()=>{var f;l(((f=m())==null?void 0:f.id)===g?m().sortDirection===1?"asc":"desc":null)}),$(),L();var k=Z(),K=J(k);oe(K,()=>r()&&u,f=>{var t=Ye();let h;var v=C(t);const s=we(()=>Q("w-full text-left","after:absolute after:pl-3",l()==="asc"&&'after:content-["▲"]',l()==="desc"&&'after:content-["▼"]',x()));var p=C(v);M(p,e,"default",{},null),D(v),D(t),N(()=>{h=G(t,h,{...B,class:c.class,"aria-sort":l()?`${l()}ending`:void 0}),Y(v,a(s))}),b("click",v,I),b("click",t,function(d){w.call(this,e,d)}),b("focus",t,function(d){w.call(this,e,d)}),b("keydown",t,function(d){w.call(this,e,d)}),b("keypress",t,function(d){w.call(this,e,d)}),b("keyup",t,function(d){w.call(this,e,d)}),b("mouseenter",t,function(d){w.call(this,e,d)}),b("mouseleave",t,function(d){w.call(this,e,d)}),b("mouseover",t,function(d){w.call(this,e,d)}),o(f,t)},f=>{var t=Ze();let h;var v=C(t);M(v,e,"default",{},null),D(t),N(()=>h=G(t,h,{...B,class:Q(x(),c.class)})),b("click",t,function(s){w.call(this,e,s)}),b("focus",t,function(s){w.call(this,e,s)}),b("keydown",t,function(s){w.call(this,e,s)}),b("keypress",t,function(s){w.call(this,e,s)}),b("keyup",t,function(s){w.call(this,e,s)}),b("mouseenter",t,function(s){w.call(this,e,s)}),b("mouseleave",t,function(s){w.call(this,e,s)}),b("mouseover",t,function(s){w.call(this,e,s)}),o(f,t)}),o(z,k),W()}var $e=P('<p class="text-gray-700 text-center">No knowledge base entries created yet!</p>'),et=P("<!> <!> <!>",1),tt=P('<button class="px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition duration-200">Open</button>'),rt=P("<!> <!> <!>",1),at=P("<!> <!>",1),lt=P('<main class="p-4 bg-gray-50 min-h-screen"><div class="flex justify-between items-center mb-4"><h1 class="text-2xl font-bold text-gray-800">Knowledge Bases</h1> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200">Create Knowledge Base</button></div> <!></main>');function xt(z,e){V(e,!1);let c=E([]);const B=async()=>{try{const l=await fetch("/api/fetchAllKnowledgeBase");return l.ok?await l.json():(console.error("Failed to fetch knowledge bases:",l.statusText),[])}catch(l){return console.error("Error during fetch:",l),[]}},y=()=>{_e("/app/knowledge/create")},m=l=>{_e(`/app/knowledge/${l}`)};Ke(async()=>{F(c,await B())}),L();var x=lt(),r=C(x),_=R(C(r),2);D(r);var n=R(r,2);oe(n,()=>a(c).length===0,l=>{var u=$e();o(l,u)},l=>{Fe(l,{striped:!0,hoverable:!0,class:"bg-white border border-gray-200 rounded-md shadow-md",children:(u,g)=>{var I=at(),k=J(I);Xe(k,{children:(f,t)=>{var h=et(),v=J(h);fe(v,{class:"px-6 py-3 text-left font-medium text-gray-700",children:(d,ee)=>{se();var q=le("ID");o(d,q)},$$slots:{default:!0}});var s=R(v,2);fe(s,{class:"px-6 py-3 text-left font-medium text-gray-700",children:(d,ee)=>{se();var q=le("Display Name");o(d,q)},$$slots:{default:!0}});var p=R(s,2);fe(p,{class:"px-6 py-3 text-left font-medium text-gray-700",children:(d,ee)=>{se();var q=le("Actions");o(d,q)},$$slots:{default:!0}}),o(f,h)},$$slots:{default:!0}});var K=R(k,2);Oe(K,{class:"text-gray-900",children:(f,t)=>{var h=Z(),v=J(h);ke(v,1,()=>a(c),pe,(s,p)=>{Le(s,{class:"text-gray-900",children:(d,ee)=>{var q=rt(),te=J(q);be(te,{class:"px-6 py-4 text-sm text-gray-900",children:(U,ae)=>{se();var A=le();N(()=>xe(A,a(p).id)),o(U,A)},$$slots:{default:!0}});var re=R(te,2);be(re,{class:"px-6 py-4 text-sm text-gray-900",children:(U,ae)=>{se();var A=le();N(()=>xe(A,a(p).display)),o(U,A)},$$slots:{default:!0}});var X=R(re,2);be(X,{class:"px-6 py-4 text-sm text-gray-900",children:(U,ae)=>{var A=tt();b("click",A,()=>m(a(p).id)),o(U,A)},$$slots:{default:!0}}),o(d,q)},$$slots:{default:!0}})}),o(f,h)},$$slots:{default:!0}}),o(u,I)},$$slots:{default:!0}})}),D(x),b("click",_,y),o(z,x),W()}export{xt as component};
