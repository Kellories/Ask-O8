import{j as e,a6 as $,a7 as d,a8 as b,a9 as j,A as B}from"./utils.C5S0ZuWa.js";import{g as E,h as w,i as M,j as C}from"./disclose-version.0l5ZSCYr.js";import{i as D,n as F,a as G}from"./utils.D9pBWCDQ.js";function Y(s){if(e){var r=!1,o=()=>{if(!r){if(r=!0,s.hasAttribute("value")){var u=s.value;h(s,"value",null),s.value=u}if(s.hasAttribute("checked")){var _=s.checked;h(s,"checked",null),s.checked=_}}};s.__on_r=o,b(o),E()}}function h(s,r,o,u){var _=s.__attributes??(s.__attributes={});e&&(_[r]=s.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&s.nodeName==="LINK")||_[r]!==(_[r]=o)&&(r==="style"&&"__styles"in s&&(s.__styles={}),r==="loading"&&(s[d]=o),o==null?s.removeAttribute(r):typeof o!="string"&&L(s).includes(r)?s[r]=o:s.setAttribute(r,o))}function H(s,r,o,u,_=!1,v=!1,K=!1){var f=r||{},O=s.tagName==="OPTION";for(var g in r)g in o||(o[g]=null);var T=L(s),q=s.__attributes??(s.__attributes={}),y=[];for(const a in o){let i=o[a];if(O&&a==="value"&&i==null){s.value=s.__value="",f[a]=i;continue}var p=f[a];if(i!==p){f[a]=i;var A=a[0]+a[1];if(A!=="$$"){if(A==="on"){const l={},n="$$"+a;let t=a.slice(2);var k=G(t);if(D(t)&&(t=t.slice(0,-7),l.capture=!0),!k&&p){if(i!=null)continue;s.removeEventListener(t,f[n],l),f[n]=null}if(i!=null)if(k)s[`__${t}`]=i,M([t]);else{let N=function(I){f[a].call(this,I)};r?f[n]=w(t,s,N,l):y.push([a,i,()=>f[n]=w(t,s,N,l)])}}else if(a==="style"&&i!=null)s.style.cssText=i+"";else if(a==="autofocus")C(s,!!i);else if(a==="__value"||a==="value"&&i!=null)s.value=s[a]=s.__value=i;else{var c=a;_||(c=F(c)),i==null&&!v?(q[a]=null,s.removeAttribute(a)):T.includes(c)&&(v||typeof i!="string")?s[c]=i:typeof i!="function"&&(e&&(c==="src"||c==="href"||c==="srcset")||h(s,c,i))}a==="style"&&"__styles"in s&&(s.__styles={})}}}return r||B(()=>{if(s.isConnected)for(const[a,i,l]of y)f[a]===i&&l()}),f}var z=new Map;function L(s){var r=z.get(s.nodeName);if(r)return r;z.set(s.nodeName,r=[]);for(var o,u=$(s),_=Element.prototype;_!==u;){o=j(u);for(var v in o)o[v].set&&r.push(v);u=$(u)}return r}function J(s){if(!e&&s.loading==="lazy"){var r=s.src;s[d]=null,s.loading="eager",s.removeAttribute("src"),requestAnimationFrame(()=>{s[d]!=="eager"&&(s.loading="lazy"),s.src=r})}}export{h as a,J as h,Y as r,H as s};
